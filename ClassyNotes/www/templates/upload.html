<ion-view title="Upload Notes">
  <ion-header-bar class="bar bar-header bar-dark">
    <h1 class="title">Add Note</h1>
    <button class="button button-icon icon ion-close" ng-click="modal.hide()"></button>
  </ion-header-bar>
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="padding">
    <div class="list">
      <div class="center-image" ng-show="!$parent.customGif.failed && $parent.customGif.imgUrl.length > 0">
        <img ng-src="{{$parent.customGif.imgUrl}}" alt="Custom Gif" customonload>
      </div>

      <!-- Yuck, parent of parent of parent. Not sure why there are so many scopes! -->
      <label class="button button-full button-dark file-upload">
        <i class="icon ion-upload placeholder-icon"></i>
        {{$parent.$parent.$parent.files ? $parent.$parent.$parent.files[0].name : "Choose File"}}
        <input type="file" class="file-input" file-input="$parent.$parent.$parent.files"/>
      </label>

      <button class="button button-full button-dark" ng-click="upload()">Add</button>

      <div class="padding center-image" ng-show="$parent.uploadProgress > 0 && $parent.uploadProgress < 100">
        <ion-spinner ></ion-spinner>
      </div>
      <progress ng-show="$parent.uploadProgress > 0" ng-value="$parent.uploadProgress" max="100"></progress>
    </div>
  </ion-content>
</ion-view>
